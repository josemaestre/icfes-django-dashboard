# Railway.toml configuration
# This file tells Railway to use the Dockerfile for building

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "python manage.py migrate --settings=config.settings.railway && python manage.py generate_ingles_ia_analisis --ano=${INGLES_ANO:-2024} --settings=config.settings.railway && python manage.py generate_ingles_ia_analisis --ano=${INGLES_ANO:-2024} --departamento=ALL --settings=config.settings.railway && DJANGO_SETTINGS_MODULE=config.settings.railway gunicorn config.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --timeout 120"
